@model IEnumerable<Magazine.Models.MagazineStoreModels>
@*@model IEnumerable<Magazine.Models.MagazinesDiaryModels>*@

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>AddDiary</h2>
@if (Model.Count() < 1)
{
    @ViewBag.Message;
}
else
{
    if (@ViewBag.MessageExist != string.Empty && @ViewBag.MessageExist != null)
    {
        @ViewBag.MessageExist
    }
    if (TempData.Peek("SuccessMessage") != null)
    {
        <input id="SuccessMessage" type="hidden" value="@TempData["SuccessMessage"]" />
    }
    else
    {
        <input id="ErrorMessage" type="hidden" value="@TempData["ErrorMessage"]" />
    }

    <div class="row">
        <div class="col-lg-12">
            <!-- Panel Filtering -->
            <div class="panel">
                <div class="ribbon ribbon-warning">
                    <span class="ribbon-inner">@Resources.Resource.AddDiaryMagazinesDiaryAgenda</span>
                </div>
                <hr />
                <div class="panel-body">
                    <div class="btn-group" aria-label="Basic example" role="group">
                        @Html.ActionLink(Resources.Resource.BackView, "Index", null, new { @Class = "btn btn-primary  icon wb-chevron-left" })
                        @Html.ActionLink(Resources.Resource.AddFavorite, "StoreMagazines", null, null, new { @class = "btn btn-success icon wb-shopping-cart" })
                    </div>
                    <table class="table table-bordered table-hover toggle-circle" id="exampleFootableFiltering">
                        <thead>
                            <tr>
                                <th data-toggle="true"> @Html.DisplayNameFor(model => model.Imagen)</th>
                                <th data-toggle="true"> @Resources.Resource.Name</th>
                                <th data-hide="phone, tablet">Index</th>
                                <th data-hide="phone, tablet">@Html.DisplayNameFor(model => model.Country)</th>
                                <th data-hide="phone, tablet">@Html.DisplayNameFor(model => model.Subjec)</th>
                                <th data-hide="phone, tablet">@Html.DisplayNameFor(model => model.Publisher)</th>
                                <th data-hide="phone, tablet">@Html.DisplayNameFor(model => model.PublicationType)</th>
                                <th data-hide="phone, tablet">@Html.DisplayNameFor(model => model.ISSN)</th>
                                <th data-hide="phone, tablet">@Html.DisplayNameFor(model => model.Coverage)</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                                <tr>

                                    <td>
                                        <img src="@Html.DisplayFor(modelItem => item.Imagen)" style=" width:200px;height:200px;">
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Name)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Hindexnumber)@Html.DisplayFor(modelItem => item.Hindexlegend)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Country)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Subjec)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Publisher)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.PublicationType)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.ISSN)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Coverage)
                                    </td>

                                    <td>
                                        @*@Html.ActionLink("Details", "Details", new { url = item.Url }) |*@
                                        @Html.ActionLink(Resources.Resource.Delete, "Delete", new { url = item.Url }, new { @Class = "btn btn-danger icon wb-trash " })
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- End Panel Filtering -->
        </div>
    </div>

}

@section scripts{
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        (function (document, window, $) {
            'use strict';
            var Site = window.Site;
            $(document).ready(function () {
                Site.run();
                var successMessage = $("#SuccessMessage").val();
                if (successMessage != "" && successMessage != null) {
                    alertify.success(successMessage);
                    $("#SuccessMessage").val("");
                }
                var errorMessage = $("#ErrorMessage").val();
                if (errorMessage != "" && errorMessage != null) {
                    alertify.error(errorMessage);
                    $("#ErrorMessage").val("");
                }


            });

        })(document, window, jQuery);
    </script>
}

